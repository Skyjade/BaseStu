<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title></title>
		<link href="../../css/all.css" rel="stylesheet">
		<link rel="stylesheet" href="../../css/menu.css" />
		<script src="../../js/allSecond.js"></script>
	</head>

	<body class="gray-bg" style="overflow-y: hidden;">
		<div id="code" style="position: relative;width: 100%;height: 100%;">
			<div class="content_bg leftBox tree" style="overflow: auto;">
				<div class="mg_b10">
					<el-select size="mini" v-model="searchAppID" style="width: 200px;" @change="selectAppID()">
						<el-option v-for="list in appQueryOptions" :label="list.name" :value="list.id">
						</el-option>
					</el-select>
				</div>
				<div>
					<el-tree :props="props" :load="loadNode" node-key="id" ref="tree" :default-expanded-keys="[0]" :check-on-click-node="true" lazy accordion highlight-current @node-click="handleNodeClick">
					</el-tree>
				</div>
			</div>
			<div class="content_bg rightBox" style="overflow: auto;">
				<div>
					<div class="t_left" style="margin: 10px 0;font-size: 16px;" v-text="operateTitle"></div>
					<div class="t_right">
						<el-button round size="small" icon="el-icon-document" :disabled="addDisabled" @click="openAddCode()"><span data-i18n="common.add"></span></el-button>
						<el-button round size="small" icon="el-icon-edit" :disabled="editDisabled" @click="openEditCode()"><span data-i18n="common.edit"></span></el-button>
						<el-button round size="small" icon="el-icon-delete" :disabled="deleteDisabled" @click="deleteCode()"><span data-i18n="common.delete"></span></el-button>
					</div>
					<div class="clear"></div>
				</div>
				<el-tabs>
					<el-tab-pane :label="$.t('menus.basicInformation')">
						<el-form :model="form" :disabled="isDisabled" :rules="rules" ref="codeForm" label-position="right" label-width="150px">
							<el-form-item :label="$.t('code.parentCode')">
								<el-input v-model="form.parentCode" disabled size="small" style="width: 400px;"></el-input>
								<el-button size="small" type="danger" icon="el-icon-delete" @click="clearTree()"></el-button>
							</el-form-item>
							<el-form-item :label="$.t('code.parentCodeValue')">
								<el-input v-model="form.parentText" disabled size="small" style="width: 400px;"></el-input>
							</el-form-item>
							<el-form-item :label="$.t('code.code')" prop="code">
								<el-input v-model.trim="form.code" size="small" style="width: 400px;"></el-input>
							</el-form-item>
							<el-form-item :label="$.t('code.codeValue')" prop="text">
								<el-input v-model.trim="form.text" size="small" style="width: 400px;"></el-input>
							</el-form-item>
							<el-form-item :label="$.t('common.app')" prop="app_id">
								<el-select size="small" disabled v-model="form.app_id" style="width: 400px;">
									<el-option v-for="list in operableAppOptions" :label="list.name" :value="list.id">
									</el-option>
								</el-select>
							</el-form-item>
							<el-form-item :label="$.t('code.codeType')">
								<el-select size="small" v-model="form.type" style="width: 400px;" :disabled="typeDisabled">
									<el-option v-for="list in codeTypeOptions" :label="list.label" :value="list.value">
									</el-option>
								</el-select>
							</el-form-item>
							<el-form-item :label="$.t('common.status')">
								<el-select size="small" v-model="form.state" style="width: 400px;">
									<el-option value="1" :label="$.t('common.enabled')"></el-option>
									<el-option value="0" :label="$.t('common.disabled')"></el-option>
								</el-select>
							</el-form-item>
							<el-form-item>
								<el-button size="small" type="primary" icon="el-icon-document" @click="save()"><span data-i18n="common.save"></span></el-button>
							</el-form-item>
						</el-form>
					</el-tab-pane>
					<el-tab-pane :label="$.t('menus.international')">
						<div class="addMenu">
							<el-form :disabled="isDisabled">
								<el-button class="mg_b15" size="small" type="primary" icon="el-icon-plus" @click="addLanguage()"></el-button>
								<el-table :data="form.uap_code_locals" border style="width: 100%;min-height: 300px;overflow-y: auto;">
									<el-table-column :label="$.t('common.language')" width="200">
										<template slot-scope="scope">
											<el-select size="small" v-model="scope.row.local" class="selWidth">
												<el-option value="zh" label="简体中文"></el-option>
												<el-option value="en" label="English"></el-option>
											</el-select>
										</template>
									</el-table-column>
									<el-table-column :label="$.t('common.name')">
										<template slot-scope="scope">
											<el-input v-model.trim="scope.row.display_name" size="small" style="width: 100%;"></el-input>
										</template>
									</el-table-column>
									<el-table-column :label="$.t('common.operate')" width="200">
										<template slot-scope="scope">
											<el-button size="small" type="primary" @click="saveLacal(scope.row)"><span v-text="i18n.save"></span></el-button>
											<el-button size="small" type="danger" @click="deleteLocal(scope.row)"><span v-text="i18n.delete"></span></el-button>
										</template>
									</el-table-column>
								</el-table>
							</el-form>
						</div>
					</el-tab-pane>
				</el-tabs>
			</div>
		</div>

		<script src="../../js/manage/code.js"></script>
	</body>

</html>